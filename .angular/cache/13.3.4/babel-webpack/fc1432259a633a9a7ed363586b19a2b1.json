{"ast":null,"code":"import { FormArray, FormControl, FormGroup, Validators } from '@angular/forms';\nimport './../../../assets/js/smtp.js';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nconst _c0 = [\"featurePopup\"];\nexport let ContactComponent = /*#__PURE__*/(() => {\n  class ContactComponent {\n    constructor(builder) {\n      this.builder = builder;\n      this.contactForm = new FormGroup({\n        nom: new FormControl(''),\n        prenom: new FormControl(''),\n        cp: new FormControl(''),\n        ville: new FormControl(''),\n        email: new FormControl(''),\n        telephone: new FormControl(''),\n        services: new FormControl(''),\n        commentaire: new FormControl('')\n      });\n    }\n\n    ngOnInit() {\n      this.contactForm = this.builder.group({\n        nom: new FormControl('', [Validators.required]),\n        prenom: new FormControl('', [Validators.required]),\n        cp: new FormControl('', [Validators.required]),\n        ville: new FormControl('', [Validators.required]),\n        email: new FormControl('', [Validators.email]),\n        telephone: new FormControl('', [Validators.required]),\n        services: new FormArray([]),\n        commentaire: new FormControl('', [Validators.required])\n      });\n    }\n\n    openMail() {\n      var _a, _b, _c, _d, _e, _f, _g;\n\n      this.open();\n      let nom = (_a = this.contactForm.get('nom')) === null || _a === void 0 ? void 0 : _a.value;\n      let prenom = (_b = this.contactForm.get('prenom')) === null || _b === void 0 ? void 0 : _b.value;\n      let cp = (_c = this.contactForm.get('cp')) === null || _c === void 0 ? void 0 : _c.value;\n      let ville = (_d = this.contactForm.get('ville')) === null || _d === void 0 ? void 0 : _d.value;\n      let email = (_e = this.contactForm.get('email')) === null || _e === void 0 ? void 0 : _e.value;\n      let telephone = (_f = this.contactForm.get('telephone')) === null || _f === void 0 ? void 0 : _f.value;\n      let commentaire = (_g = this.contactForm.get('commentaire')) === null || _g === void 0 ? void 0 : _g.value;\n      /*window.location.href = \"mailto:adrien.bonvin@outlook.fr;?subject=Demande d'intervention - \"+ nom + ' ' + prenom + ' ' + ville + ' '+ cp + ' ' +\"&body=TEL : \" + telephone + \". MAIL : \" + email + \". ADRESSE : \" + ville + ' ' + cp + \". <i>Bonjour, nous souhaiterions</i> un plombier<br/> pour le sujet suivant : \" + commentaire + \".\";*/\n      // Mail Entreprise\n\n      Email.send({\n        Host: 'smtp.elasticemail.com',\n        Username: 'adrien.bonvin@gmail.com',\n        Password: '2562297E4CE7A61A87AF7678508EF1FB9EC6',\n        To: 'adrien.bonvin@outlook.fr',\n        From: 'adrien.bonvin@gmail.com',\n        Subject: \"Demande d'intervention - \" + nom + ' ' + prenom + ' ' + ville + ' ' + cp,\n        Body: `\n      <b>Nom : </b> ${nom} ${prenom} <br />\n      <b>Ville : </b> ${ville} ${cp} <br />\n      <b>Email : </b> ${email} <br />\n      <b>Tel : </b> ${telephone} <br />\n      <b>Services requis : </b> ${telephone} <br /> <br />\n      ${commentaire}`\n      }).then(message => {\n        console.log(\"Mail demande envoyé avec succès\");\n      }); //Mail Client\n\n      Email.send({\n        Host: 'smtp.elasticemail.com',\n        Username: 'adrien.bonvin@gmail.com',\n        Password: '2562297E4CE7A61A87AF7678508EF1FB9EC6',\n        To: email,\n        From: 'adrien.bonvin@gmail.com',\n        Subject: \"Accusé de réception pour votre demande d'intervention - Entreprise Dubuisson\",\n        Body: `\n        Bonjour ${nom} ${prenom} <br/><br/>\n        Nous avons bien reçu votre demande, et allons tenter d'y répondre dans les plus brefs délais.<br /><br/><br/>\n        Cordialement,<br/>\n        Entreprise Dubuisson\n        <br/><br><br>\n        Une demande spécifique ? <a href='http://localhost:4200/'>Visitez notre site web</a>\n        Vous souhaitez savoir à quoi ressemblent notre travail ? <a href='http://localhost:4200/'>Visitez notre Instagram</a>\n\n        <br/><br/><br/>\n        Demande envoyée : <br/>\n        <b>Services requis : </b> ${telephone} <br /> <br />\n        ${commentaire}`\n      }).then(message => {\n        console.log(\"Mail client envoyé avec succès\");\n      });\n    }\n\n    open() {\n      this.popup.nativeElement.style.display = 'flex';\n    }\n\n    close() {\n      this.popup.nativeElement.style.display = 'none';\n    }\n\n  }\n\n  ContactComponent.ɵfac = function ContactComponent_Factory(t) {\n    return new (t || ContactComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n  };\n\n  ContactComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ContactComponent,\n    selectors: [[\"app-contact\"]],\n    viewQuery: function ContactComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.popup = _t.first);\n      }\n    },\n    decls: 87,\n    vars: 2,\n    consts: [[\"id\", \"contact\", 1, \"container-contact\", \"flex-col\"], [\"contact\", \"\"], [1, \"form\", \"flex-col\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-field-group\"], [1, \"form-field\"], [\"placeholder\", \"Nom\", \"id\", \"first-name\", \"type\", \"text\", \"formControlName\", \"nom\"], [\"placeholder\", \"Pr\\u00E9nom\", \"id\", \"first-name\", \"type\", \"text\", \"formControlName\", \"prenom\"], [\"placeholder\", \"Code Postal\", \"id\", \"first-name\", \"type\", \"text\", \"formControlName\", \"cp\"], [\"placeholder\", \"Ville\", \"id\", \"first-name\", \"type\", \"text\", \"formControlName\", \"ville\"], [\"placeholder\", \"E-mail\", \"id\", \"last-name\", \"type\", \"text\", \"formControlName\", \"email\"], [\"placeholder\", \"T\\u00E9l\\u00E9phone\", \"id\", \"first-name\", \"type\", \"text\", \"formControlName\", \"telephone\"], [1, \"form-field\", \"services\", \"sub-title\"], [\"formArrayName\", \"services\"], [\"type\", \"checkbox\", \"value\", \"1\", 1, \"checkbox\"], [1, \"red\"], [\"type\", \"checkbox\", \"value\", \"2\", 1, \"checkbox\"], [\"type\", \"checkbox\", \"value\", \"3\", 1, \"checkbox\"], [\"type\", \"checkbox\", \"value\", \"4\", 1, \"checkbox\"], [\"type\", \"checkbox\", \"value\", \"5\", 1, \"checkbox\"], [\"type\", \"checkbox\", \"value\", \"6\", 1, \"checkbox\"], [1, \"blue\"], [\"type\", \"checkbox\", \"value\", \"7\", 1, \"checkbox\"], [\"type\", \"checkbox\", \"value\", \"8\", 1, \"checkbox\"], [\"type\", \"checkbox\", \"value\", \"9\", 1, \"checkbox\"], [1, \"form-field\", \"comment\", \"flex-col\"], [1, \"sub-title\"], [\"id\", \"last-name\", \"type\", \"text\", \"formControlName\", \"commentaire\"], [\"type\", \"submit\", 1, \"btn\", \"btn-submit\", 3, \"disabled\"], [\"src\", \"../../../assets/devis-gratuit.png\", 1, \"devis-gratuit\"], [1, \"popup-container\"], [\"featurePopup\", \"\"], [1, \"btn\", \"btn-outline-info\", 3, \"click\"]],\n    template: function ContactComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0, 1)(2, \"form\", 2);\n        i0.ɵɵlistener(\"ngSubmit\", function ContactComponent_Template_form_ngSubmit_2_listener() {\n          return ctx.openMail();\n        });\n        i0.ɵɵelement(3, \"hr\");\n        i0.ɵɵelementStart(4, \"h1\");\n        i0.ɵɵtext(5, \"Contactez-nous\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 3)(7, \"div\", 4);\n        i0.ɵɵelement(8, \"input\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 4);\n        i0.ɵɵelement(10, \"input\", 6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"div\", 3)(12, \"div\", 4);\n        i0.ɵɵelement(13, \"input\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 4);\n        i0.ɵɵelement(15, \"input\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"div\", 3)(17, \"div\", 4);\n        i0.ɵɵelement(18, \"input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 4);\n        i0.ɵɵelement(20, \"input\", 10);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"div\", 11)(22, \"label\");\n        i0.ɵɵtext(23, \"Votre demande concerne :\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"ul\", 12)(25, \"li\");\n        i0.ɵɵelement(26, \"input\", 13);\n        i0.ɵɵelementStart(27, \"div\", 14);\n        i0.ɵɵtext(28, \"Pompe \\u00E0 chaleur\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(29, \"li\");\n        i0.ɵɵelement(30, \"input\", 15);\n        i0.ɵɵelementStart(31, \"div\", 14);\n        i0.ɵɵtext(32, \"Chaudi\\u00E8re Gaz ou Fioul\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(33, \"li\");\n        i0.ɵɵelement(34, \"input\", 16);\n        i0.ɵɵelementStart(35, \"div\", 14);\n        i0.ɵɵtext(36, \"Bruleur Gaz ou Fioul\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(37, \"li\");\n        i0.ɵɵelement(38, \"input\", 17);\n        i0.ɵɵelementStart(39, \"div\", 14);\n        i0.ɵɵtext(40, \"D\\u00E9sembouage chauffages\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(41, \"li\");\n        i0.ɵɵelement(42, \"input\", 18);\n        i0.ɵɵelementStart(43, \"div\", 14);\n        i0.ɵɵtext(44, \"Contrat entretien\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(45, \"li\");\n        i0.ɵɵelement(46, \"input\", 19);\n        i0.ɵɵelementStart(47, \"div\", 20);\n        i0.ɵɵtext(48, \"Installation plomberie\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(49, \"li\");\n        i0.ɵɵelement(50, \"input\", 21);\n        i0.ɵɵelementStart(51, \"div\", 20);\n        i0.ɵɵtext(52, \"D\\u00E9pannage plomberie\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(53, \"li\");\n        i0.ɵɵelement(54, \"input\", 22);\n        i0.ɵɵelementStart(55, \"div\", 20);\n        i0.ɵɵtext(56, \"Chauffe eau\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(57, \"li\");\n        i0.ɵɵelement(58, \"input\", 23);\n        i0.ɵɵelementStart(59, \"div\", 20);\n        i0.ɵɵtext(60, \"D\\u00E9pannage chauffe eau\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(61, \"li\");\n        i0.ɵɵelement(62, \"input\", 21);\n        i0.ɵɵelementStart(63, \"div\", 20);\n        i0.ɵɵtext(64, \"Cr\\u00E9ation/Vente salle de bain\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(65, \"li\");\n        i0.ɵɵelement(66, \"input\", 23);\n        i0.ɵɵelementStart(67, \"div\");\n        i0.ɵɵtext(68, \"Autre\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(69, \"div\", 24)(70, \"label\", 25);\n        i0.ɵɵtext(71, \"D\\u00E9tails de votre demande :\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(72, \"textarea\", 26);\n        i0.ɵɵelementStart(73, \"button\", 27);\n        i0.ɵɵtext(74, \"Envoyer un message\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(75, \"img\", 28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(76, \"div\", 29, 30)(78, \"h2\", 25);\n        i0.ɵɵtext(79, \"Demande envoy\\u00E9e\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(80, \"div\")(81, \"b\");\n        i0.ɵɵtext(82, \"Votre message \\u00E0 \\u00E9t\\u00E9 transmis avec succ\\u00E8s.\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(83, \"div\");\n        i0.ɵɵtext(84, \"Vous devriez recevoir un accus\\u00E9 de r\\u00E9ception dans votre boite mail. Si celui-ci n'apparait pas, v\\u00E9rifiez que votre adresse mail est bien orthographi\\u00E9e.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(85, \"button\", 31);\n        i0.ɵɵlistener(\"click\", function ContactComponent_Template_button_click_85_listener() {\n          return ctx.close();\n        });\n        i0.ɵɵtext(86, \"Ok\");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formGroup\", ctx.contactForm);\n        i0.ɵɵadvance(71);\n        i0.ɵɵproperty(\"disabled\", !ctx.contactForm.valid);\n      }\n    },\n    directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i1.FormArrayName],\n    styles: [\".container-contact[_ngcontent-%COMP%]{width:100%;margin:5vh 0;position:relative}.form[_ngcontent-%COMP%]{width:80%;margin-top:5%}.form-field-group[_ngcontent-%COMP%]{display:flex;flex-direction:row}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:3%;width:60%}.comment[_ngcontent-%COMP%]{width:60%}textarea[_ngcontent-%COMP%]{width:100%}.services[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-bottom:3%}.checkbox[_ngcontent-%COMP%]{margin-right:2%}li[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}ul[_ngcontent-%COMP%]{list-style-type:none;column-count:3}.btn-submit[_ngcontent-%COMP%]{margin-top:3%;font-size:20px;padding:1%;color:#fff;border-color:#1e60aa;background-color:#1e60aa;width:200px}.btn-submit[_ngcontent-%COMP%]:hover{color:#1e60aa;border-color:#1e60aa;background-color:#fff}hr[_ngcontent-%COMP%]{width:70%}h1[_ngcontent-%COMP%]{color:#1e60aa;font-weight:bolder;margin:3vh 0 6vh}h2[_ngcontent-%COMP%]{color:#1e60aa;font-weight:bolder;text-align:center;padding-bottom:2%}.popup-container[_ngcontent-%COMP%]{padding:2%;position:absolute;top:45%;min-height:100px;width:600px;background-color:#fff;display:none;flex-direction:column;align-items:center;justify-content:space-around;border:solid;border-color:#1e60aa;z-index:10;box-shadow:2px 3px 5px #999}.popup-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:1%}button[_ngcontent-%COMP%]{background-color:#1e60aa;color:#fff;border-color:#fff;margin:2%;padding:1% 4%}button[_ngcontent-%COMP%]:hover{color:#1e60aa;border-color:#1e60aa;background-color:#fff}.devis-gratuit[_ngcontent-%COMP%]{height:100px;object-fit:contain;position:absolute;transform:rotate(15deg);bottom:15vh;left:75vw}.sub-title[_ngcontent-%COMP%]{font-weight:500}.red[_ngcontent-%COMP%]{color:#aa541e}.blue[_ngcontent-%COMP%]{color:#1e60aa}@media screen and (max-width: 500px){.form[_ngcontent-%COMP%]{width:100%;margin-bottom:100px}.form-field-group[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:30%}.form-field.services[_ngcontent-%COMP%]{width:100%;margin:40px 0}.form-field.comment[_ngcontent-%COMP%]{width:80%;height:200px}ul[_ngcontent-%COMP%]{list-style-type:none;column-count:2}li[_ngcontent-%COMP%]{margin:10% 0}.btn-submit[_ngcontent-%COMP%]{margin-top:15%;padding:3%}.devis-gratuit[_ngcontent-%COMP%]{transform:rotate(348deg);bottom:-1vh;left:30vw}}\"]\n  });\n  return ContactComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}